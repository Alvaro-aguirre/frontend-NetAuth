@model List<PedidoJson>

<h2>Pedidos</h2>

@foreach (var pedido in Model)
{
    <div class="card mb-3">
        <div class="card-header">
            <strong>Pedido #@pedido.Id</strong> - Usuario: @pedido.Usuario.Nombre
            <small class="text-muted float-end">@pedido.Fecha.ToString("dd/MM/yyyy HH:mm")</small>
        </div>
        <div class="card-body">
            <h6 class="card-subtitle mb-2 text-muted">Productos (@pedido.Productos.Count)</h6>
            <ul class="list-group list-group-flush">
                @foreach (var producto in pedido.Productos)
                {
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">@producto.Titulo</div>
                            <small class="text-muted">Precio: $@producto.Precio</small>
                        </div>
                        <span class="badge bg-primary rounded-pill">@producto.PedidoProducto.Cantidad</span>
                    </li>
                }
            </ul>
        </div>
    </div>
}